/*! touch 2016-09-13 */
define(function(){return function(a,b){$("#center_right").addClass("r_loading").loadPage(a,["css/mycenter/address.css"],function(){var a=0;Center.getAddressList(null,function(b){$("#center_right").removeClass("r_loading"),$(".c_addr_detail_wrap").html($("#addressListTemplate").tmpl({list:b.list})),a=b.list.length,$(".curr_count").html(a),$("#center_right").on("click",".c_addr_del",function(){var b={};b.title="删除",b.content=$("#deleteWarnTemplate").tmpl({msg:"您确认要删除这个地址吗？",ok:"删除"}),b.width=500;var c=$(this);$.alertPop(b,function(){$(".dl_cancel").on("click",function(){$("#global_pop").hide()}),$(".dl_ok").on("click",function(){Center.deleteAddress({id:c.data("id")},function(b){$("#global_pop").hide(),200==b.code?($("#target_addr_"+c.data("id")).remove(),$(".curr_count").html(--a)):$.alertTmpMsg(b.message)})})})}),$("#center_right").on("click",".c_addr_swmr",function(){var a=$(this);Center.setDefaultAddress({id:a.data("id")},function(b){if(200==b.code){$(".c_addr_detail.active").removeClass("active");var c=$("#target_addr_"+a.data("id")).addClass("active").clone();$("#target_addr_"+a.data("id")).remove(),$(".c_addr_detail_wrap").prepend(c),$.closeMsg()}else $.alertTmpMsg(b.message)})}),$(".c_addr_btn .btn").on("click",function(){return a>=8?void $.alertTmpMsg("最多可以有8个收货地址。"):void require(["js/modules/address.manage"+_min],function(b){b.addAddress(function(b){$(".curr_count").html(++a),$.goPage("mycenter/address")})})}),$("#center_right").on("click",".c_addr_set",function(){var a=$(this);require(["js/modules/address.manage"+_min],function(b){Center.getAddressById({id:a.data("id")},function(a){200==a.code?b.editAddress(a,function(a){$.goPage("mycenter/address")}):$.alertTmpMsg(a.message)})})})})})}});