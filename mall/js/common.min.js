/*! touch 2016-11-04 */
function dropDownMouseEnter(){var a=0;$(".red_mid").text()>0?$(".cart_moneybox").show():$(".cart_moneybox").hide(),$("body").off("mouseenter").one("mouseenter",".buycar",function(){function b(b){for(var c=0,d="",e=0,f=b.length;f>e;e++)c+=JSON.parse(b[e].price)*b[e].num;a=(100*a+100*c)/100,$(".cart_panel_ze span").text(a.toFixed(2)),$("#cart_panel_zjzb .panel_btn span").text("￥"+c.toFixed(2)),$("#cart_panel_zjzb").removeClass("p_loading"),0==b.length?(d="<div class='no_goods'>您还没挑选商品哦~</div>",$("#cart_panel_zjzb .panel_btn").hide()):(d=$("#cartPanelTemplate").tmpl({cartlist:b,_type:""}),$("#cart_panel_zjzb .panel_btn").show()),$("#cart_panel_zjzb .cart_panel_list ul").html(d),$("#cart_panel_zjzb .cart_panel_del").off().on("click",function(){$(this);Cart.deleteCart({ids:$(this).data("id")},function(a){200==a.code&&(console.log(a),$(".red_mid").text(a.data.goods_num),dropDownMouseEnter(),$(".buycar").mouseenter(),carnum--)})})}function c(b){for(var c=0,d="",e=0,f=b.length;f>e;e++)c+=JSON.parse(b[e].price);a=(100*a+100*c)/100,$(".cart_panel_ze span").text(a.toFixed(2)),$("#cart_panel_yxdj .panel_btn span").text("￥"+c.toFixed(2)),$("#cart_panel_yxdj").removeClass("p_loading"),0==b.length?(d="<div class='no_goods'>您还没挑选游戏，赶紧去挑选哦~</div>",$("#cart_panel_yxdj .panel_btn").hide()):(d=$("#cartPanelTemplate").tmpl({cartlist:b,_type:"game"}),$("#cart_panel_yxdj .panel_btn").show()),$("#cart_panel_yxdj .cart_panel_list ul").html(d),$("#cart_panel_yxdj .cart_panel_del").off().on("click",function(){$(this);Game.deleteGameCart({ids:$(this).data("id")},function(a){200==a.code?($(".red_mid").text(a.goods_num),dropDownMouseEnter(),$(".buycar").mouseenter(),gamenum--):alert(a.message)})})}$(".cart_panel").removeClass("hide"),$("#cart_panel_zjzb").addClass("p_loading"),$("#cart_panel_zjzb .cart_panel_list ul").html(""),Cart.getCartList(null,function(a){var c=a.carts;b(c),carnum=c.length}),$("#cart_panel_yxdj").addClass("p_loading"),$("#cart_panel_yxdj .cart_panel_list ul").html(""),Game.gamePayList(null,function(a){var b=a.data.cartlist;c(b),gamenum=b.length,Cart.getCartNum(null,function(a){$(".cart_num").text(a.data.goods_num)})})}),znum=carnum+gamenum,1>znum&&$(".cart_moneybox").hide()}_$=$,$.extend(_$,{getFileContent:function(a){var b=new XMLHttpRequest;return b.open("get",a,!1),b.send(null),b.responseText},getQueryStringJson:function(a){var b={};return window.location.search.substr(1).replace(/(\w+)=(\w+)/gi,function(a,c,d){b[c]=unescape(d)}),b},goPage:function(a){location.hash!="#"+a&&location.hash!=a?location.hash=a:$(window).trigger("hashchange")},setCookie:function(a,b,c){var d=a+"="+encodeURIComponent(b);"number"==typeof c&&(d+="; max-age="+c),document.cookie=d},getCookie:function(a){var b=document.cookie;if(""===b)return null;for(var c=b.split("; "),d=0;d<c.length;d++){var e=c[d],f=e.indexOf("="),g=e.substring(0,f),h=e.substring(f+1);if(h=decodeURIComponent(h),a&&a==g)return h}return null},add:function(a,b){if(1==a.length)return a[0].toFixed(b);var c,d,e,f=a.shift(),g=a.shift();try{c=f.toString().split(".")[1].length}catch(h){c=0}try{d=g.toString().split(".")[1].length}catch(h){d=0}return e=Math.pow(10,Math.max(c,d)),a.unshift(($.mul(f,e)+$.mul(g,e))/e),this.add(a,b)},sub:function(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(f){c=0}try{d=b.toString().split(".")[1].length}catch(f){d=0}return e=Math.pow(10,Math.max(c,d)),((a*e-b*e)/e).toFixed(2)},mul:function(a,b){var c=0,d=a.toString(),e=b.toString();try{c+=d.split(".")[1].length}catch(f){}try{c+=e.split(".")[1].length}catch(f){}return Number(d.replace(".",""))*Number(e.replace(".",""))/Math.pow(10,c)},getObjIndexByKey:function(a,b,c){for(var d in a)if(a[d][b]==c)return d;return-1},alertPop:function(a,b){var c={title:"默认标题",content:"内容为空",top:240,width:700,close:!0};$.extend(c,a);var d=document.documentElement,e=document.body;c.top=(d.scrollTop?d.scrollTop:e.scrollTop)+c.top,c._class&&$("#global_pop .pop_content").addClass(c._class),c.close?$("#global_pop .pop_close").show():$("#global_pop .pop_close").hide(),$("#global_pop .pop_title_text").text(c.title),$("#global_pop .pop_content").html(c.content),$("#global_pop .pop_box").width(c.width).css("margin-top",c.top+"px"),$("#global_pop").height($("body").height()),$("#global_pop").show(),b&&b()},closePop:function(a){$("#global_pop").hide()},alertMsg:function(a,b){var c={title:"默认标题",content:"内容为空",top:240};$.extend(c,a);var d=document.documentElement,e=document.body;c.top=(d.scrollTop?d.scrollTop:e.scrollTop)+c.top,$("#global_msg .ensure_del").text(c.title),$("#global_msg .message_del").html(c.subTitle),$("#global_msg .msg_box").css("margin-top",c.top+"px"),$("#global_msg").height($("body").height()),$("#global_msg").show(),$(".msg_action_wrap .btn.grey").off().on("click",function(){$.closeMsg()}),$(".msg_action_wrap .btn.ok").off().on("click",function(){b&&b()})},alertTmpMsg:function(a){var b=document.documentElement,c=document.body,d=(b.scrollTop?b.scrollTop:c.scrollTop)+350;$("#global_temp_msg").text(a).fadeIn(100).css({"margin-left":-$("#global_temp_msg").width()/2,top:d}),setTimeout(function(){$("#global_temp_msg").fadeOut(1500)},1500)},closeMsg:function(){$("#global_msg").hide()},checkMail:function(a){var b=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return b.test(a)},checkTel:function(a){var b=/^(13[0-9]|14[0-9]|15[0-9]|18[0-9]|17[0-9])\d{8}$/i;return b.test(a)},checkIllegalChar:function(a){var b=/[\?\~\!@#\$%\^&\*-\/\+\\\$\.\;\<\>\"\=\{\}\']/;return b.test(a)?!1:!0},timeFormat:function(a){var b,c,d,e="";return b=Math.floor(a/3600),c=Math.floor(a%3600/60),d=Math.floor(a%3600%60),b>0&&(e+="<span class='timeColor_red'>"+b+"</span>小时"),c>0&&(e+="<span class='timeColor_red'>"+c+"</span>分钟"),e+="<span class='timeColor_red'>"+d+"</span>秒"},addEventListener:function(a,b){window.addEventListener?window.addEventListener(a,b):window.attachEvent(a,b)},ieVersion:function(){var a=navigator.appVersion.split(";")[1].replace(/[ ]/g,"").split("MSIE")[1];return a?a:999},indexOf:function(a,b){for(var c in a)if(a[c]==b)return c;return-1},alertLoginPop:function(){var a={};a.title="登录",a.width=495,a.content=$("#loginPopTemplate").tmpl({}),$.alertPop(a,function(){$("#login_name").focus()})},navHighlight:function(a){$(".layer1 ul li.active").removeClass("active"),$("#target_"+a).addClass("active")},openUrl:function(a){var b=document.createElement("form");b.setAttribute("action",a),b.setAttribute("method","post"),b.setAttribute("target","_blank"),document.body.appendChild(b),b.submit()},cancelBubble:function(a){a=a?a:window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},go404:function(){require(["js/controller/404Controller"+_min],function(a){a&&a("pages/404.html",{})})},thumbImg:function(a,b){var c=a.split("."),d="."+c[c.length-1],e=a.split(d);return e[0]+"_"+b+d+e[1]},setTitle:function(a){try{$("title").html(a)}catch(b){return!0}},getBt:function(a){var b=a.match(/[^\x00-\xff]/gi);return a.length+(null==b?0:b.length)},cutString:function(a,b){var c="";if(a)for(var d=(a.gblen(),0),e=0,f=a.length;f>e;e++)if(d+=$.getBt(a[e]),c+=a[e],d>b){c+="...";break}return c},isPC:function(){for(var a=navigator.userAgent,b=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),c=!0,d=0;d<b.length;d++)if(a.indexOf(b[d])>0){c=!1;break}return c},asynCss:function(a,b){var c=0;0==a.length&&b&&b();for(var d=0,e=a.length;e>d;d++){var f=document.createElement("link");f.type="text/css",f.rel="stylesheet",f.href=a[d]+"?v="+(_version?_version:$.getVersion()),$("#container")[0].appendChild(f),f.onload=function(){++c,c==a.length&&b&&b()}}},loadImgError:function(a){a.src=$(a).data("errorsrc")},ltIE9:function(){var a=(navigator.appName,navigator.appVersion),b=a.split(";");if(b.length>1){var c=parseInt(b[1].replace(/[ ]/g,"").replace(/MSIE/g,""));if(9>=c)return!0}return!1},thumbImg:function(a,b){var c=a.split("."),d="."+c[c.length-1],e=a.split(d);return e[0]+"_"+b+d+e[1]},setNum:function(a){$(".red_mid").text(a)},getVersion:function(){return $.ajaxSettings.async=!1,$.getJSON("package.json",function(a){_version=a.version}),$.ajaxSettings.async=!0,_version},_ajax:function(a,b,c,d){b&&(b="param="+JSON.stringify(b)),$.ajax({url:a,type:c,dataType:"json",data:b,async:!0,success:function(a){return 511e3==a.code?void alert(a.message):(400002==a.code&&($.setCookie("username",""),location.reload()),void(d&&d(a)))},error:function(a,b,c){}})},setCache:function(a,b){localStorage.setItem(a,JSON.stringify(b))},getCache:function(a){var b=localStorage.getItem(a)?localStorage.getItem(a):"null";return JSON.parse(b)},removeCache:function(a){localStorage.removeItem(a)}}),$.fn.loadImg=function(a){var b=this.find(".img_loading");b.each(function(){if($.ltIE9()){var b=$(this),c=$(this).data("src"),d=new Image,e=-1==c.indexOf("?")?"?":"&",f=c+e+(new Date).getTime();d.src=f,d.complete?b.attr("src",f):(d.onload=function(){b.attr("src",f)},d.onerror=function(){b.attr("src","/img/"+a+".png")})}else{var b=$(this),c=$(this).data("src"),d=new Image;d.src=c,d.onload=function(){b.attr("src",c)},d.onerror=function(){b.attr("src","/img/"+a+".png")}}})},$.fn.loadPage=function(a,b,c){$(this).load(a,function(){$(".game_toptit").hide(),$.asynCss(b,c)})},String.prototype.gblen=function(){for(var a=0,b=0;b<this.length;b++)this.charCodeAt(b)>127||94==this.charCodeAt(b)?a+=2:a++;return a},$("body").on("click","#next",function(){var a=$(".thumbnail li"),b=a.length;_index=a.index($(".thumbnail .active")),_index<b-1&&a.eq(_index+1).trigger("click")}),$("body").on("click","#prev",function(){var a=$(".thumbnail li");a.length;_index=a.index($(".thumbnail .active")),_index>0&&a.eq(_index-1).trigger("click")}),$("#global_pop").on("click",".pop_close",function(){$.closePop()}),$("body").on("click",".send_option input[type='checkbox']",function(){$(".invoice_o").toggle()}),$("body").on("click",".register",function(){window.location.href=Links.register+"?broker=fuzemall&l=zh-cn"}),$("body").on("click",".img_verify",function(){$(".img_verify").attr("src",$(".img_verify").attr("src").split("?tag=")[0]+"?tag="+(new Date).getTime())}),$("body").on("click","#login_btn",function(){var a={};a.account=$("#login_name").val(),a.password=$("#login_psw").val(),a.code=$("#login_code").val(),Account.login(a,function(a){"200"==a.code?(location.reload(),$.closePop(),$.setCookie("username",a.u_info.username),$.setCookie("avatar",a.u_info.avatar)):($("#"+a.code).html(a.message).show(),$(".img_verify").attr("src",$(".img_verify").attr("src")+"?tag="+(new Date).getTime()))})}),$("body").on("input",".login_pop input[type='text']",function(){var a=$(this).parent().find(".errmsg");0!=a.css("display")&&a.hide()}),$("body").on("click","#rgster_btn",function(){$(".register").trigger("click")}),$("body").on("click","#logout",function(){Account.logout(null,function(a){$.setCookie("username",""),$.setNum(0),$(".cart_num").html(0),$(".salutation").hide(),$(".un_login").show(),$.goPage("home")})}),dropDownMouseEnter();var carnum,gamenum,znum;$("body").on("click","#cart_panel_zjzb .btn",function(){$(".cart_panel").addClass("hide"),location.href="index.html#cart"}),$("body").on("click","#cart_panel_yxdj .btn",function(){$(".cart_panel").addClass("hide"),location.href="index.html#gamepay"}),$.addEventListener("keydown",function(a){a=a||window.event,13==a.keyCode&&($(".enterflag").length>0&&$(".enterflag").trigger("click"),$(".game_toptit a").length>0&&$(".game_toptit a").trigger("click"))}),$("body").on("selectstart",".button,#home .left,#home .right,#r_pointer,.plus,.subtract,.picker,.addr_edit,.addr_delete,span,label,#category li,.faq_li_t,.faq_li_list ul li",function(){return!1}),function(a){a.fn.extend({tabSlide:function(b){var c={tabshown:"active",autoHeight:!0},b=a.extend(c,b),d=a(".tab_menu ul li",this),e=a(".tab_box .tab_switch",this);return d.click(function(){a(this).addClass(b.tabshown).siblings().removeClass(b.tabshown);var c=d.index(this);e.eq(c).show().siblings().hide()}),this}})}(jQuery);var bannerTimer="";$.fn.bannerSlider=function(a){a=$.extend({timeout:5e3,anTime:800,autoSlider:!0,ul:".game-banner-list",eq:0,isTips:!0,ulTips:".game-banner-tip-list",moveWay:"roll"},a||{}),a.timeout=a.timeout<1500?1500:a.timeout,a.anTime=a.anTime<500?500:a.anTime,a.autoSlider="boolean"!=typeof a.autoSlider?!0:a.autoSlider,a.eq="number"!=typeof a.eq?0:a.eq;var b=this,c=b.find(a.ul),d=c.find("li"),e=d.find("img"),f=d.size(),g=this.find(a.ulTips),h=function(){i(),j()},i=function(){switch(a.moveWay){case"roll":d.css({left:"100%"}).eq(a.eq).css({left:0}).addClass("active");break;case"hide":d.hide().eq(a.eq).show().addClass("active")}a.isTips&&function(){for(var b=0;f>b;b++)g.append("<li>");g.find("li").eq(a.eq).addClass("active"),g.on("click","li",function(){var b=$(this);b.hasClass("active")||(bannerTimer&&clearInterval(bannerTimer),a.eq=g.find("li").index(b),k(),j())})}(),a.eq++},j=function(){a.autoSlider&&(bannerTimer=setInterval(k,a.timeout))},k=function(){var b=c.find("li.active");switch(a.eq=a.eq>f-1?0:a.eq,a.moveWay){case"roll":b.stop(!0,!0).animate({left:"-100%"},a.anTime,function(){b.css("left","100%"),a.eq++}),d.removeClass("active").eq(a.eq).addClass("active"),d.eq(a.eq).stop(!0,!0).animate({left:"0"},a.anTime),g.find("li").removeClass("active").eq(a.eq).addClass("active");break;case"hide":g.find("li").removeClass("active").eq(a.eq).addClass("active"),d.stop(!0,!0).fadeOut(a.anTime).eq(a.eq).stop(!0,!0).fadeIn(a.anTime).addClass("active"),a.eq++}},l=function(a,b){var c=!0,d="";a.eq(0).each(function(){return 0===this.height?(c=!1,!1):void 0}),c?(clearTimeout(d),b()):(c=!0,d=setTimeout(function(){l(a,b)},500))};l(e,function(){var a=e.eq(0).height();c.css({height:a+"px"}),h()}),$(window).resize(function(){var a=e.eq(0).height();c.css({height:a+"px"})})};var Account={login:function(a,b){var c="/User/login";$._ajax(c,a,"post",b)},register:function(a,b){var c="/User/register";$._ajax(c,a,"post",b)},logout:function(a,b){var c="/User/logout";$._ajax(c,a,"post",b)},bindInfo:function(a,b){var c="/Member/bindInfo";$._ajax(c,a,"post",b)},getRegVerify:function(a,b){var c="/User/getRegVerify";$._ajax(c,a,"post",b)},checkUserExists:function(a,b){var c="/User/checkUserExists";$._ajax(c,a,"post",b)},createAvatar:function(a,b){var c="/Member/createAvatar";$._ajax(c,a,"post",b)},getCost:function(a,b){var c="/Member/getCost";$._ajax(c,a,"post",b)}},Goods={getGoodsById:function(a,b){var c="/Goods/getById";$._ajax(c,a,"post",b)},getGoodsAround:function(a,b){var c="/Goods/around";$._ajax(c,a,"post",b)},getBannerList:function(a,b){var c="/Goods/gameBanner";$._ajax(c,a,"post",b)},getBanner:function(a,b){var c="/Banner/index";$._ajax(c,a,"post",b)},gameSearch:function(a,b){var c="/Goods/gameSearch";$._ajax(c,a,"post",b)}},Cart={getCartList:function(a,b){var c="/Cart/getCartList";$._ajax(c,a,"post",b)},addCart:function(a,b){var c="/Cart/addCart";$._ajax(c,a,"post",b)},addCartFilter:function(a,b){var c="/cart/goPay";$._ajax(c,a,"post",b)},getCartLocal:function(a,b){var c=$.getCookie("carts");return c&&"null"!=c?{carts:JSON.parse(c).carts}:{carts:[]}},deleteCart:function(a,b){var c="/Cart/deleteCart";$._ajax(c,a,"post",b)},getCartNum:function(a,b){var c="/Cart/getCartNum";$._ajax(c,a,"post",b)}},Order={getSelectedCartListLocal:function(){var a=JSON.parse($.getCookie("selectedCart"));return a},storeCartIds:function(a,b){var c="/cart/storeCartIds";$._ajax(c,a,"post",b)},submitOrder:function(a,b){var c="/Order/submit";$._ajax(c,a,"post",b)},getOrderDetailById:function(a,b){var c="/Order/getDetailByOrderId";$._ajax(c,a,"post",b)},getSelectCart:function(a,b){var c="/cart/getSelectCart";$._ajax(c,a,"post",b)},getExpressInfoByBackNO:function(a,b){var c="/Orderback/getExpressInfoByBackNO";$._ajax(c,a,"post",b)},getPcExpressInfoByOrderId:function(a,b){var c="/Order/getPcExpressInfo";$._ajax(c,a,"post",b)},invalidByOid:function(a,b){var c="/Order/invalidByOid";$._ajax(c,a,"post",b)}},Favorite={addFavor:function(a,b){var c="/Collection/add";$._ajax(c,a,"post",b)},deleteFavor:function(a,b){var c="/Collection/delete";$._ajax(c,a,"post",b)}},Pay={pay:function(a){var b="/Checkout/submit&order_no="+a.order_no;$.openUrl(b)},getPayDetail:function(a,b){var c="/Order/getDetailByOId";$._ajax(c,a,"post",b)}},Center={getCartList:function(a,b){var c="/Cart/cartList";$._ajax(c,a,"post",b)},getFavorList:function(a,b){var c="/Collection/collectionList";$._ajax(c,a,"post",b)},changePsw:function(a,b){var c="/Member/modifyPasswd";$._ajax(c,a,"post",b)},getOrderList:function(a,b){var c="/Order/getList";$._ajax(c,a,"post",b)},getCartListMore:function(a,b){var c="/Collection/getList";$._ajax(c,a,"post",b)},getAddressById:function(a,b){var c="/Address/getById";$._ajax(c,a,"post",b)},editAddress:function(a,b){var c="/Address/edit";$._ajax(c,a,"post",b)},addAddress:function(a,b){var c="/Address/add";$._ajax(c,a,"post",b)},deleteAddress:function(a,b){var c="/Address/delete";$._ajax(c,a,"post",b)},getAddressList:function(a,b){var c="/Address/getAddressList";$._ajax(c,a,"post",b)},setDefaultAddress:function(a,b){var c="/Address/setDefault";$._ajax(c,a,"post",b)},cancelOrder:function(a,b){var c="/Order/cancel";$._ajax(c,a,"post",b)},getReturnList:function(a,b){var c="/Orderback/refund";$._ajax(c,a,"post",b)},getChangeList:function(a,b){var c="/Orderback/exchange";$._ajax(c,a,"post",b)},getRepairList:function(a,b){var c="/Orderback/repair";$._ajax(c,a,"post",b)},getReturnDetail:function(a,b){var c="/Orderback/detail";$._ajax(c,a,"post",b)},delImageOfDetail:function(a,b){var c="/Orderback/deleteImage";$._ajax(c,a,"post",b)},applyStep:function(a,b){var c="/Orderback/applyStep";$._ajax(c,a,"post",b)},getSchedule:function(a,b){var c="/Orderback/getDetailByOno";$._ajax(c,a,"post",b)},getFillInfo:function(a,b){var c="/Orderback/fillInfo";$._ajax(c,a,"post",b)},applyBackInfo:function(a,b){var c="/Orderback/applyStep2";$._ajax(c,a,"post",b)},getGameOrder:function(a,b){var c="/OrderGame/getList";$._ajax(c,a,"post",b)},cancelGameOrder:function(a,b){var c="/OrderGame/cancel";$._ajax(c,a,"post",b)},orderComplete:function(a,b){var c="/Order/orderComplete";$._ajax(c,a,"post",b)},backOrderComplete:function(a,b){var c="/Orderback/orderComplete";$._ajax(c,a,"post",b)},getWelcomeInfo:function(a,b){var c="/Member/getOrderNum";$._ajax(c,a,"post",b)},applyRefund:function(a,b){var c="/Orderback/applyRefund";$._ajax(c,a,"post",b)}},Game={getGameRecommend:function(a,b){var c="/goods/gameRecommend";$._ajax(c,a,"post",b)},getGameCategory:function(a,b){var c="/Goods/gameCate";$._ajax(c,a,"post",b)},getGameListByCategory:function(a,b){var c="/Goods/gameList";$._ajax(c,a,"post",b)},getGameDetail:function(a,b){var c="/Goods/gameDetail";$._ajax(c,a,"post",b)},getGameOrderDetail:function(a,b){var c="/OrderGame/getDetailByOrderId";$._ajax(c,a,"post",b)},getGamePrice:function(a,b){var c="/Goods/gamePriceInfo";$._ajax(c,a,"post",b)},gameResInfo:function(a,b){var c="/Goods/gameResInfo";$._ajax(c,a,"post",b)},gameProp:function(a,b){var c="/Goods/gameProp";$._ajax(c,a,"post",b)},gamePayList:function(a,b){var c="/Cart/gamePay";$._ajax(c,a,"post",b)},addCartLocal:function(a,b){function c(){for(var b=d.cartlist,c=0,e=b.length;e>c;c++)if(b[c].gid==a.gid&&b[c].produceId==a.produceId)return!1;return!0}var d=$.getCookie("game_carts");if(d){if(d=JSON.parse(d),!c())return $.alertTmpMsg("该商品已存在购物车。"),!1;d.cartlist.push(a)}else d={},d.cartlist=[],d.cartlist.push(a);return $.setCookie("game_carts",JSON.stringify(d)),b&&b(),!0},deleteCartLocal:function(a,b){for(var c=JSON.parse($.getCookie("game_carts")),d=c.cartlist,e=0,f=d.length;f>e;e++)if(d[e].gid==a.gid&&d[e].produceId==a.produceId)return d.splice(e,1),$.setCookie("game_carts",JSON.stringify({cartlist:d})),void(b&&b())},getCartLocal:function(a,b){var c=$.getCookie("game_carts");return c&&"null"!=c?{cartlist:JSON.parse(c).cartlist}:{cartlist:[]}},deleteGameCart:function(a,b){var c="/Cart/deleteGameCart";$._ajax(c,a,"post",b)},payGame:function(a,b){var c="/OrderGame/submit";$._ajax(c,a,"post",b)},addGameCart:function(a,b){var c="/Cart/addGameCart";$._ajax(c,a,"post",b)},payConins:function(a,b){var c="/OrderGame/coinsSubmit";$._ajax(c,a,"post",b)},checkBuy:function(a,b){var c="/Cart/checkBuy";$._ajax(c,a,"post",b)},getOrderStatus:function(a,b){var c="/OrderGame/getOrderStatus";$._ajax(c,a,"post",b)},orderCheck:function(a,b){var c="/OrderGame/checkBuy";$._ajax(c,a,"post",b)},getRecommendList:function(a,b){var c="/front.php?s=/Home/Game/recommend";$._ajax(c,a,"post",b)},getStartingList:function(a,b){var c="/front.php?s=/Home/Game/gameList";$._ajax(c,a,"post",b)},getGameList:function(a,b){var c="/Goods/gameList";$._ajax(c,a,"post",b)},getGameCate:function(a,b){var c="/Goods/gameCate";$._ajax(c,a,"post",b)}},JOIN={infoSub:function(a,b){var c="/join/submit";$._ajax(c,a,"post",b)}},Faq={getFaqList:function(a,b){var c="/Article/getCat";$._ajax(c,a,"post",b)},getFaqById:function(a,b){var c="/Article/getArticleById";$._ajax(c,a,"post",b)}},Modules={refreshCount:function(){Cart.getCartNum(null,function(a){$(".cart_num").text(a.data.goods_num)})}},official={getNewsList:function(a,b){var c="/Article/getNewsList";$._ajax(c,a,"post",b)},getNewsArticleInfo:function(a,b){var c="/Article/getNewsArticleInfo";$._ajax(c,a,"post",b)}},Serve={getHotIssueList:function(a,b){var c="/Kf/faqList";$._ajax(c,a,"post",b)},getMyIssueList:function(a,b){var c="/Kf/myThreadList";$._ajax(c,a,"post",b)},postIssue:function(a,b){var c="/Kf/addQuestion";$._ajax(c,a,"post",b)},addIssue:function(a,b){var c="/Kf/addZhuiwen";$._ajax(c,a,"post",b)},getIssueTypeList:function(a,b){var c="/Kf/questionTypeList";$._ajax(c,a,"post",b)},getIssueDetails:function(a,b){var c="/Kf/questionDetail";$._ajax(c,a,"post",b)},messageScore:function(a,b){var c="/Kf/mark";$._ajax(c,a,"post",b)},imgsUpload:function(a,b){var c="/Kf/upload";$._ajax(c,a,"post",b)}},Conference={getAuthCode:function(a,b){var c="/Book/getVerfiyCode";$._ajax(c,a,"post",b)},submitSelfMessage:function(a,b){var c="/Book/submit";$._ajax(c,a,"post",b)},getServeTime:function(a,b){var c="/Book/currentTimestamp";$._ajax(c,a,"post",b)}},Home={getHomeBanner:function(a,b){var c="/Banner/index";$._ajax(c,a,"post",b)},getHomeGoodsList:function(a,b){var c="/Goods/goodsList";$._ajax(c,a,"post",b)},getNews:function(a,b){var c="/Article/getNews";$._ajax(c,a,"post",b)},getGameHotAndNew:function(a,b){var c="/Goods/gameHotAndNew";$._ajax(c,a,"post",b)}},Activity={get618Item:function(a,b){var c="/Goods/getActivityGoods";$._ajax(c,a,"post",b)},getActivePageInfo:function(a,b){var c="/activity/getById";$._ajax(c,a,"post",b)},getActivePageWinners:function(a,b){var c="/activity/getWinners";$._ajax(c,a,"post",b)}},Nav={getNav:function(a,b){var c="/Nav/getNavList";$._ajax(c,a,"post",b)}},filter=["cartController","createOrderController","payController","mycenterController","weixinController","messageDetailsController"],search_keyword="",timmer,Route={trigger:!0,config:{home:{templateUrl:"pages/home.html",controller:"homeController",title:"FUZE商城-主机游戏、热门游戏、电视游戏、网络游戏"},"item/:itemId":{templateUrl:"pages/item.html",controller:"itemController",title:"FUZE商城"},"item/:itemId/:num":{templateUrl:"pages/item.html",controller:"itemController",title:"FUZE商城"},cart:{templateUrl:"pages/cart.html",controller:"cartController",title:"FUZE购物车"},createOrder:{templateUrl:"pages/createOrder.html",controller:"createOrderController",title:"FUZE商城-确认订单"},"pay/:orderId":{templateUrl:"pages/pay.html",controller:"payController",title:"订单支付"},"mycenter/:subPage":{templateUrl:"pages/mycenter.html",controller:"mycenterController",title:"FUZE商城-个人中心"},"aboutus/:subPage":{templateUrl:"pages/aboutUs.html",controller:"aboutUsController",title:"FUZE商城-关于我们"},employ:{templateUrl:"pages/employ.html",controller:"employController",title:"FUZE商城-诚聘英才"},"employ/:id":{templateUrl:"pages/employDetail.html",controller:"employDetailController",title:"FUZE商城-诚聘英才"},game:{templateUrl:"pages/game.html",controller:"gameController",title:"FUZE-游戏商城"},gameList:{templateUrl:"pages/gameList.html",controller:"gameListController",title:"FUZE-游戏列表"},"gameItem/:itemId":{templateUrl:"pages/gameItem.html",controller:"gameItemController",title:"FUZE-游戏商城"},"success/:orderId":{templateUrl:"pages/success.html",controller:"successController",title:"支付成功"},gamepay:{templateUrl:"pages/gamepay.html",controller:"gamepayController",title:"游戏商城-支付"},"gamepay/:orderId":{templateUrl:"pages/gamepay.html",controller:"gamepayController",title:"游戏商城-支付"},faq:{templateUrl:"pages/faq.html",controller:"faqController",title:"常见问题"},"faq/:page":{templateUrl:"pages/faq.html",controller:"faqController",title:"常见问题"},parentsCare:{templateUrl:"pages/parentsCare.html",controller:"parentsCareController",title:"家长监护工程"},"parentsCare/:page":{templateUrl:"pages/parentsCare.html",controller:"parentsCareController",title:"家长监护工程"},"weixin/:orderId":{templateUrl:"pages/weixin.html",controller:"weixinController",title:"微信支付"},404:{templateUrl:"pages/404.html",controller:"404Controller",title:"404-逛逛FUZE的其它商品吧"},"default":{templateUrl:"pages/fuze.html",controller:"fuzeController",title:"FUZE游戏主机-战斧一代"},contactUs:{templateUrl:"pages/contactUs.html",controller:"contactUsController",title:"联系我们"},"latest/:id":{templateUrl:"pages/latest.html",controller:"latestController",title:"新闻资讯-详细"},aboutUs:{templateUrl:"pages/aboutUs.html",controller:"aboutUsController",title:"关于我们"},newMation:{templateUrl:"pages/newMation.html",controller:"newMationController",title:"新闻资讯"},serve:{templateUrl:"pages/serve.html",controller:"serveController",title:"服务"},serviceCenter:{templateUrl:"pages/serviceCenter.html",controller:"serviceCenterController",title:"客服中心"},createMessage:{templateUrl:"pages/createMessage.html",controller:"createMessageController",title:"新建问题"},"messageDetails/:id":{templateUrl:"pages/messageDetails.html",controller:"messageDetailsController",title:"问题详情"},conFigure:{templateUrl:"pages/conFigure.html",controller:"conFigureController",title:"配置表"},fuze:{templateUrl:"pages/fuze.html",controller:"fuzeController",title:"概述"},design:{templateUrl:"pages/design.html",controller:"designController",title:"主机"},handle:{templateUrl:"pages/handle.html",controller:"handleController",title:"手柄"},partners:{templateUrl:"pages/partners.html",controller:"partnersController",title:"合作伙伴"},VR:{templateUrl:"pages/VR.html",controller:"VRController",title:"VR"},fuzeOS:{templateUrl:"pages/fuzeOS.html",controller:"fuzeOSController",title:"FUZE OS"},fuzefans:{id:"fuzefans",templateUrl:"pages/fuzefans.html",controller:"fuzefansController",parent:"home"},joinIn:{templateUrl:"pages/joinIn.html",controller:"joinInController",title:"经销商加盟"},terms:{id:"terms",templateUrl:"pages/terms.html",controller:"termsController",parent:"home"},apply:{id:"apply",templateUrl:"pages/apply.html",controller:"applyController",parent:"home"},activepage:{templateUrl:"pages/activity/activepage.html",controller:"activepageController",title:"超级星期六"},showPage:{templateUrl:"pages/activity/showPage.html",controller:"showPageController",title:"GRID"}},getRoute:function(route){for(var key in this.config){var reg="/^",str=key.split("/");for(var idx in str)-1==str[idx].indexOf(":")?(0!=idx&&(reg+="\\/"),reg+=str[idx]):reg+="\\/[a-z0-9A-Z\\-\\_\\=\\?]+";if(reg=eval(reg+"$/"),reg.test(route))return this.config[key].routeKey=key,this.config[key]}return this.config[route]?(this.config[route].routeKey=route,this.config[route]):void 0},setRoute:function(){}};window.onhashchange=function(){if(clearInterval(timmer),!Route.trigger)return Route.trigger=!0,!1;"#gameList"!=location.hash&&(search_keyword=""),window.scrollTo(0,0);try{var a=location.hash.split("#")[1].split("/"),b=Route.getRoute(location.hash.split("#")[1]),c=b.routeKey.replace(/(\/:|\/)/g,",").split(","),d={};for(var e in c)c[e]!=a[e]&&(d[c[e]]=a[e]);-1==$.indexOf(filter,b.controller)||$.getCookie("username")?($.setTitle(b.title),require(["js/controller/"+b.controller+_min],function(a){a&&a(b.templateUrl,d)})):window.location.href=Links.login+"?redirect="+encodeURIComponent(location.href)+"&broker=fuzemall&l=zh-cn"}catch(f){require(["js/controller/404Controller"+_min],function(a){a&&a("/pages/404.html",{})})}};